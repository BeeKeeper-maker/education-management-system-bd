{'role': 'assistant', 'content': '## Step 6: Create Student Profile/Details Page\n\n<function_calls>\n<create-file file_path="client/src/pages/StudentProfile.tsx">\nimport { useQuery } from \'@tanstack/react-query\';\nimport { apiClient } from \'@/lib/api\';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \'@/components/ui/card\';\nimport { Badge } from \'@/components/ui/badge\';\nimport { Button } from \'@/components/ui/button\';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \'@/components/ui/tabs\';\nimport { \n  User, \n  Mail, \n  Phone, \n  MapPin, \n  Calendar, \n  Heart, \n  Users, \n  BookOpen, \n  CheckCircle,\n  DollarSign,\n  Edit,\n  ArrowLeft,\n  GraduationCap,\n} from \'lucide-react\';\nimport { useLocation, useRoute } from \'wouter\';\nimport { formatDate, getInitials } from \'@/lib/utils\';\n\nexport default function StudentProfile() {\n  const [, params] = useRoute(\'/students/:id\');\n  const [, setLocation] = useLocation();\n  const studentId = params?.id;\n\n  // Fetch student details\n  const { data: studentData, isLoading } = useQuery({\n    queryKey: [\'student\', studentId],\n    queryFn: async () => {\n      const response = await apiClient.get(`/students/${studentId}`);\n      return response.data;\n    },\n    enabled: !!studentId,\n  });\n\n  if (isLoading) {\n    return (\n      <div className="flex items-center justify-center min-h-[60vh]">\n        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-primary"></div>\n      </div>\n    );\n  }\n\n  if (!studentData) {\n    return (\n      <div className="flex items-center justify-center min-h-[60vh]">\n        <div className="text-center">\n          <h2 className="text-2xl font-bold mb-2">Student Not Found</h2>\n          <p className="text-muted-foreground mb-4">The student you\'re looking for doesn\'t exist.</p>\n          <Button onClick={() => setLocation(\'/students\')}>\n            <ArrowLeft className="h-4 w-4 mr-2" />\n            Back to Students\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  const student = studentData;\n  const user = student.user;\n\n  return (\n    <div className="space-y-6">\n      {/* Header */}\n      <div className="flex items-center justify-between">\n        <Button variant="ghost" onClick={() => setLocation(\'/students\')}>\n          <ArrowLeft className="h-4 w-4 mr-2" />\n          Back to Students\n        </Button>\n        <Button>\n          <Edit className="h-4 w-4 mr-2" />\n          Edit Profile\n        </Button>\n      </div>\n\n      {/* Profile Header */}\n      <Card>\n        <CardContent className="pt-6">\n          <div className="flex flex-col md:flex-row gap-6">\n            {/* Avatar */}\n            <div className="flex-shrink-0">\n              <div className="w-32 h-32 rounded-full bg-primary/10 flex items-center justify-center">\n                <span className="text-4xl font-bold text-primary">\n                  {getInitials(user.firstName, user.lastName)}\n                </span>\n              </div>\n            </div>\n\n            {/* Basic Info */}\n            <div className="flex-1">\n              <div className="flex items-start justify-between">\n                <div>\n                  <h1 className="text-3xl font-bold">\n                    {user.firstName} {user.lastName}\n                  </h1>\n                  <p className="text-muted-foreground mt-1">\n                    Student ID: {student.studentId}\n                  </p>\n                </div>\n                <Badge \n                  variant={student.status === \'active\' ? \'success\' : \'outline\'}\n                  className="capitalize"\n                >\n                  {student.status}\n                </Badge>\n              </div>\n\n              <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">\n                <div className="flex items-center space-x-3">\n                  <Mail className="h-5 w-5 text-muted-foreground" />\n                  <div>\n                    <p className="text-sm text-muted-foreground">Email</p>\n                    <p className="font-medium">{user.email}</p>\n                  </div>\n                </div>\n                <div className="flex items-center space-x-3">\n                  <Phone className="h-5 w-5 text-muted-foreground" />\n                  <div>\n                    <p className="text-sm text-muted-foreground">Phone</p>\n                    <p className="font-medium">{user.phone || \'N/A\'}</p>\n                  </div>\n                </div>\n                <div className="flex items-center space-x-3">\n                  <Calendar className="h-5 w-5 text-muted-foreground" />\n                  <div>\n                    <p className="text-sm text-muted-foreground">Date of Birth</p>\n                    <p className="font-medium">\n                      {user.dateOfBirth ? formatDate(user.dateOfBirth) : \'N/A\'}\n                    </p>\n                  </div>\n                </div>\n                <div className="flex items-center space-x-3">\n                  <User className="h-5 w-5 text-muted-foreground" />\n                  <div>\n                    <p className="text-sm text-muted-foreground">Gender</p>\n                    <p className="font-medium capitalize">{user.gender || \'N/A\'}</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Detailed Information Tabs */}\n      <Tabs defaultValue="personal" className="space-y-4">\n        <TabsList>\n          <TabsTrigger value="personal">Personal Details</TabsTrigger>\n          <TabsTrigger value="academic">Academic Info</TabsTrigger>\n          <TabsTrigger value="guardian">Guardian Info</TabsTrigger>\n          <TabsTrigger value="attendance">Attendance</TabsTrigger>\n          <TabsTrigger value="fees">Fee Status</TabsTrigger>\n        </TabsList>\n\n        {/* Personal Details Tab */}\n        <TabsContent value="personal" className="space-y-4">\n          <div className="grid gap-4 md:grid-cols-2">\n            <Card>\n              <CardHeader>\n                <CardTitle className="text-lg">Personal Information</CardTitle>\n              </CardHeader>\n              <CardContent className="space-y-4">\n                <div className="flex items-center justify-between">\n                  <span className="text-sm text-muted-foreground">Blood Group</span>\n                  <span className="font-medium">{user.bloodGroup || \'N/A\'}</span>\n                </div>\n                <div className="flex items-center justify-between">\n                  <span className="text-sm text-muted-foreground">Admission Number</span>\n                  <span className="font-medium">{student.admissionNumber || \'N/A\'}</span>\n                </div>\n                <div className="flex items-center justify-between">\n                  <span className="text-sm text-muted-foreground">Admission Date</span>\n                  <span className="font-medium">\n                    {formatDate(student.admissionDate)}\n                  </span>\n                </div>\n                <div className="flex items-center justify-between">\n                  <span className="text-sm text-muted-foreground">Roll Number</span>\n                  <span className="font-medium">{student.rollNumber || \'N/A\'}</span>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className="text-lg">Contact Information</CardTitle>\n              </CardHeader>\n              <CardContent className="space-y-4">\n                <div>\n                  <p className="text-sm text-muted-foreground mb-1">Address</p>\n                  <p className="font-medium">{user.address || \'N/A\'}</p>\n                </div>\n                <div>\n                  <p className="text-sm text-muted-foreground mb-1">Emergency Contact</p>\n                  <p className="font-medium">{student.emergencyContact || \'N/A\'}</p>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {student.medicalInfo && (\n            <Card>\n              <CardHeader>\n                <CardTitle className="text-lg flex items-center">\n                  <Heart className="h-5 w-5 mr-2 text-red-500" />\n                  Medical Information\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <p className="text-sm">{student.medicalInfo}</p>\n              </CardContent>\n            </Card>\n          )}\n\n          {student.previousSchool && (\n            <Card>\n              <CardHeader>\n                <CardTitle className="text-lg flex items-center">\n                  <GraduationCap className="h-5 w-5 mr-2" />\n                  Previous School\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <p className="text-sm">{student.previousSchool}</p>\n              </CardContent>\n            </Card>\n          )}\n        </TabsContent>\n\n        {/* Academic Info Tab */}\n        <TabsContent value="academic" className="space-y-4">\n          <Card>\n            <CardHeader>\n              <CardTitle>Current Enrollment</CardTitle>\n              <CardDescription>Current academic information</CardDescription>\n            </CardHeader>\n            <CardContent>\n              {student.currentEnrollment ? (\n                <div className="space-y-4">\n                  <div className="grid grid-cols-2 md:grid-cols-4 gap-4">\n                    <div>\n                      <p className="text-sm text-muted-foreground">Class</p>\n                      <p className="font-medium text-lg">\n                        {student.currentEnrollment.class?.name}\n                      </p>\n                    </div>\n                    <div>\n                      <p className="text-sm text-muted-foreground">Section</p>\n                      <p className="font-medium text-lg">\n                        {student.currentEnrollment.section?.name}\n                      </p>\n                    </div>\n                    <div>\n                      <p className="text-sm text-muted-foreground">Academic Session</p>\n                      <p className="font-medium text-lg">\n                        {student.currentEnrollment.academicSession?.name}\n                      </p>\n                    </div>\n                    <div>\n                      <p className="text-sm text-muted-foreground">Enrollment Date</p>\n                      <p className="font-medium text-lg">\n                        {formatDate(student.currentEnrollment.enrollmentDate)}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                <p className="text-muted-foreground">No current enrollment</p>\n              )}\n            </CardContent>\n          </Card>\n\n          {student.enrollments && student.enrollments.length > 0 && (\n            <Card>\n              <CardHeader>\n                <CardTitle>Enrollment History</CardTitle>\n                <CardDescription>Past enrollments and transfers</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className="space-y-3">\n                  {student.enrollments.map((enrollment: any) => (\n                    <div \n                      key={enrollment.id}\n                      className="flex items-center justify-between p-3 border rounded-lg"\n                    >\n                      <div>\n                        <p className="font-medium">\n                          {enrollment.class?.name} - Section {enrollment.section?.name}\n                        </p>\n                        <p className="text-sm text-muted-foreground">\n                          {enrollment.academicSession?.name}\n                        </p>\n                      </div>\n                      <Badge variant={enrollment.status === \'active\' ? \'success\' : \'outline\'}>\n                        {enrollment.status}\n                      </Badge>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n        </TabsContent>\n\n        {/* Guardian Info Tab */}\n        <TabsContent value="guardian" className="space-y-4">\n          <Card>\n            <CardHeader>\n              <CardTitle className="flex items-center">\n                <Users className="h-5 w-5 mr-2" />\n                Guardian Information\n              </CardTitle>\n            </CardHeader>\n            <CardContent className="space-y-4">\n              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">\n                <div>\n                  <p className="text-sm text-muted-foreground">Guardian Name</p>\n                  <p className="font-medium text-lg">{student.guardianName}</p>\n                </div>\n                <div>\n                  <p className="text-sm text-muted-foreground">Relation</p>\n                  <p className="font-medium text-lg capitalize">\n                    {student.guardianRelation || \'N/A\'}\n                  </p>\n                </div>\n                <div>\n                  <p className="text-sm text-muted-foreground">Phone</p>\n                  <p className="font-medium text-lg">{student.guardianPhone}</p>\n                </div>\n                <div>\n                  <p className="text-sm text-muted-foreground">Email</p>\n                  <p className="font-medium text-lg">{student.guardianEmail || \'N/A\'}</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Attendance Tab */}\n        <TabsContent value="attendance" className="space-y-4">\n          <div className="grid gap-4 md:grid-cols-3">\n            <Card>\n              <CardHeader className="pb-3">\n                <CardTitle className="text-sm font-medium">Attendance Rate</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className="text-3xl font-bold text-green-600">95.5%</div>\n                <p className="text-xs text-muted-foreground mt-1">This month</p>\n              </CardContent>\n            </Card>\n            <Card>\n              <CardHeader className="pb-3">\n                <CardTitle className="text-sm font-medium">Present Days</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className="text-3xl font-bold">19</div>\n                <p className="text-xs text-muted-foreground mt-1">Out of 20 days</p>\n              </CardContent>\n            </Card>\n            <Card>\n              <CardHeader className="pb-3">\n                <CardTitle className="text-sm font-medium">Absent Days</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className="text-3xl font-bold text-red-600">1</div>\n                <p className="text-xs text-muted-foreground mt-1">This month</p>\n              </CardContent>\n            </Card>\n          </div>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Attendance Summary</CardTitle>\n              <CardDescription>Monthly attendance overview</CardDescription>\n            </CardHeader>\n            <CardContent>\n              <p className="text-muted-foreground">\n                Detailed attendance records will be displayed here.\n              </p>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Fees Tab */}\n        <TabsContent value="fees" className="space-y-4">\n          <div className="grid gap-4 md:grid-cols-3">\n            <Card>\n              <CardHeader className="pb-3">\n                <CardTitle className="text-sm font-medium">Total Fees</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className="text-3xl font-bold">$5,000</div>\n                <p className="text-xs text-muted-foreground mt-1">Annual fees</p>\n              </CardContent>\n            </Card>\n            <Card>\n              <CardHeader className="pb-3">\n                <CardTitle className="text-sm font-medium">Paid</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className="text-3xl font-bold text-green-600">$5,000</div>\n                <p className="text-xs text-muted-foreground mt-1">100% paid</p>\n              </CardContent>\n            </Card>\n            <Card>\n              <CardHeader className="pb-3">\n                <CardTitle className="text-sm font-medium">Due</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className="text-3xl font-bold text-red-600">$0</div>\n                <p className="text-xs text-muted-foreground mt-1">No pending dues</p>\n              </CardContent>\n            </Card>\n          </div>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Payment History</CardTitle>\n              <CardDescription>All fee payments and transactions</CardDescription>\n            </CardHeader>\n            <CardContent>\n              <p className="text-muted-foreground">\n                Payment history will be displayed here.\n              </p>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n</create-file>\n</function_calls>'}