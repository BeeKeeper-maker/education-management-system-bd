{'role': 'assistant', 'content': '## Step 4: Create Top Navigation Bar\n\n<function_calls>\n<create-file file_path="client/src/components/layout/TopBar.tsx">\nimport { useAuth } from \'@/contexts/AuthContext\';\nimport { Button } from \'@/components/ui/button\';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \'@/components/ui/dropdown-menu\';\nimport { Bell, User, Settings, LogOut, Menu } from \'lucide-react\';\nimport { Badge } from \'@/components/ui/badge\';\nimport { useLocation } from \'wouter\';\n\ninterface TopBarProps {\n  onMenuClick?: () => void;\n}\n\nexport default function TopBar({ onMenuClick }: TopBarProps) {\n  const { user, logout } = useAuth();\n  const [, setLocation] = useLocation();\n\n  const handleLogout = async () => {\n    await logout();\n    setLocation(\'/login\');\n  };\n\n  return (\n    <header className="h-16 border-b bg-card px-4 flex items-center justify-between sticky top-0 z-40">\n      {/* Left side - Mobile menu button */}\n      <div className="flex items-center space-x-4">\n        <Button\n          variant="ghost"\n          size="icon"\n          className="md:hidden"\n          onClick={onMenuClick}\n        >\n          <Menu className="h-5 w-5" />\n        </Button>\n        \n        <div>\n          <h2 className="text-lg font-semibold">\n            Welcome back, {user?.firstName}!\n          </h2>\n          <p className="text-xs text-muted-foreground">\n            {new Date().toLocaleDateString(\'en-US\', { \n              weekday: \'long\', \n              year: \'numeric\', \n              month: \'long\', \n              day: \'numeric\' \n            })}\n          </p>\n        </div>\n      </div>\n\n      {/* Right side - Actions */}\n      <div className="flex items-center space-x-2">\n        {/* Notifications */}\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant="ghost" size="icon" className="relative">\n              <Bell className="h-5 w-5" />\n              <Badge \n                variant="destructive" \n                className="absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs"\n              >\n                3\n              </Badge>\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align="end" className="w-80">\n            <DropdownMenuLabel>Notifications</DropdownMenuLabel>\n            <DropdownMenuSeparator />\n            <div className="max-h-96 overflow-y-auto">\n              <DropdownMenuItem className="flex flex-col items-start p-3">\n                <div className="flex items-center justify-between w-full mb-1">\n                  <span className="font-medium text-sm">New student enrolled</span>\n                  <span className="text-xs text-muted-foreground">2h ago</span>\n                </div>\n                <p className="text-xs text-muted-foreground">\n                  John Doe has been enrolled in Class 5A\n                </p>\n              </DropdownMenuItem>\n              <DropdownMenuItem className="flex flex-col items-start p-3">\n                <div className="flex items-center justify-between w-full mb-1">\n                  <span className="font-medium text-sm">Attendance marked</span>\n                  <span className="text-xs text-muted-foreground">3h ago</span>\n                </div>\n                <p className="text-xs text-muted-foreground">\n                  Attendance has been marked for Class 3B\n                </p>\n              </DropdownMenuItem>\n              <DropdownMenuItem className="flex flex-col items-start p-3">\n                <div className="flex items-center justify-between w-full mb-1">\n                  <span className="font-medium text-sm">New announcement</span>\n                  <span className="text-xs text-muted-foreground">5h ago</span>\n                </div>\n                <p className="text-xs text-muted-foreground">\n                  School will be closed tomorrow for maintenance\n                </p>\n              </DropdownMenuItem>\n            </div>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem className="justify-center text-primary">\n              View all notifications\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n\n        {/* User Menu */}\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant="ghost" className="flex items-center space-x-2">\n              <div className="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center">\n                <span className="text-sm font-semibold text-primary">\n                  {user?.firstName?.[0]}{user?.lastName?.[0]}\n                </span>\n              </div>\n              <div className="hidden md:block text-left">\n                <p className="text-sm font-medium">\n                  {user?.firstName} {user?.lastName}\n                </p>\n                <p className="text-xs text-muted-foreground capitalize">\n                  {user?.role}\n                </p>\n              </div>\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align="end" className="w-56">\n            <DropdownMenuLabel>My Account</DropdownMenuLabel>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem onClick={() => setLocation(\'/profile\')}>\n              <User className="mr-2 h-4 w-4" />\n              <span>Profile</span>\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => setLocation(\'/settings\')}>\n              <Settings className="mr-2 h-4 w-4" />\n              <span>Settings</span>\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem onClick={handleLogout} className="text-red-600">\n              <LogOut className="mr-2 h-4 w-4" />\n              <span>Logout</span>\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n    </header>\n  );\n}\n</create-file>\n</function_calls>'}