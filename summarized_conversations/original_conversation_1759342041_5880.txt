{'role': 'assistant', 'content': '<function_calls>\n<create-file file_path="server/src/routes/timetable.routes.ts">\nimport { Router } from \'express\';\nimport { authenticate, authorize } from \'../middleware/auth\';\nimport {\n  getPeriods,\n  createTimetableEntry,\n  getClassTimetable,\n  getTeacherTimetable,\n  deleteTimetableEntry,\n  checkConflicts,\n} from \'../controllers/timetable.controller\';\n\nconst router = Router();\n\n// All routes require authentication\nrouter.use(authenticate);\n\n// Get all periods (All authenticated users)\nrouter.get(\'/periods\', getPeriods);\n\n// Create/update timetable entry (Admins, SuperAdmins)\nrouter.post(\n  \'/entries\',\n  authorize([\'admin\', \'superadmin\']),\n  createTimetableEntry\n);\n\n// Get class timetable (All authenticated users)\nrouter.get(\'/class\', getClassTimetable);\n\n// Get teacher timetable (All authenticated users)\nrouter.get(\'/teacher/:teacherId\', getTeacherTimetable);\n\n// Delete timetable entry (Admins, SuperAdmins)\nrouter.delete(\n  \'/entries/:id\',\n  authorize([\'admin\', \'superadmin\']),\n  deleteTimetableEntry\n);\n\n// Check for conflicts (Admins, SuperAdmins)\nrouter.get(\n  \'/conflicts\',\n  authorize([\'admin\', \'superadmin\']),\n  checkConflicts\n);\n\nexport default router;\n</create-file>\n</function_calls>'}